<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gym Sebitas | Bienestar & Deporte</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gym: {
                            dark: '#0B0C10',
                            gray: '#1F2833',
                            light: '#C5C6C7',
                            neon: '#66FCF1',
                            blue: '#45A29E'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        sport: ['Orbitron', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #0B0C10; color: #C5C6C7; scroll-behavior: smooth; }
        .fade-in-up { animation: fadeInUp 0.8s ease-out; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .slide-in { animation: slideIn 0.5s ease-out forwards; }
        @keyframes slideIn { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }

        .calendar-day { width: 100%; aspect-ratio: 1; display: flex; align-items: center; justify-content: center; border-radius: 8px; cursor: pointer; transition: all 0.2s; font-size: 0.8rem; }
        .calendar-day:hover:not(.empty) { background-color: #1F2833; color: #66FCF1; }
        .calendar-day.selected { background-color: #66FCF1; color: #0B0C10; font-weight: bold; box-shadow: 0 0 10px rgba(102, 252, 241, 0.5); }
        
        .time-btn { border: 1px solid #45A29E; color: #66FCF1; padding: 6px; border-radius: 4px; font-size: 0.75rem; transition: all 0.2s; }
        .time-btn.active { background: #66FCF1; color: #0B0C10; font-weight: bold; box-shadow: 0 0 8px rgba(102, 252, 241, 0.4); }
        
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0B0C10; }
        ::-webkit-scrollbar-thumb { background: #45A29E; border-radius: 4px; }

        /* Estilo para el menú móvil */
        #mobile-menu {
            transition: transform 0.3s ease-in-out;
            transform: translateX(100%);
        }
        #mobile-menu.open {
            transform: translateX(0);
        }
    </style>
</head>
<body class="font-sans antialiased overflow-x-hidden">

    <nav class="fixed w-full z-50 bg-gym-dark/90 backdrop-blur-md border-b border-gym-blue/30 shadow-lg shadow-black/50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex items-center gap-2 cursor-pointer" onclick="location.reload()">
                    <i class="fas fa-dumbbell text-3xl text-gym-neon"></i>
                    <span class="font-sport text-xl md:text-2xl font-bold text-white tracking-wider">GYM <span class="text-gym-neon">SEBITAS</span></span>
                </div>
                
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#inicio" class="hover:text-gym-neon transition-colors text-sm font-medium">Inicio</a>
                    <a href="#nosotros" class="hover:text-gym-neon transition-colors text-sm font-medium">Nosotros</a>
                    <a href="#espacios" class="hover:text-gym-neon transition-colors text-sm font-medium">Reservar</a>
                    <button onclick="openLoginModal()" class="border border-gym-blue text-gym-neon px-4 py-2 rounded-full text-xs hover:bg-gym-blue/20 transition-all flex items-center gap-2">
                        <i class="fas fa-user-lock"></i> Staff
                    </button>
                </div>

                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="text-gym-neon text-2xl focus:outline-none">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <div id="mobile-menu" class="fixed inset-y-0 right-0 w-64 bg-gym-dark z-[60] shadow-2xl p-6 flex flex-col md:hidden">
        <button onclick="toggleMobileMenu()" class="text-gym-neon text-2xl self-end mb-8">
            <i class="fas fa-times"></i>
        </button>
        <div class="flex flex-col space-y-6 text-lg">
            <a href="#inicio" onclick="toggleMobileMenu()" class="hover:text-gym-neon transition-colors font-medium">Inicio</a>
            <a href="#nosotros" onclick="toggleMobileMenu()" class="hover:text-gym-neon transition-colors font-medium">Nosotros</a>
            <a href="#espacios" onclick="toggleMobileMenu()" class="hover:text-gym-neon transition-colors font-medium">Reservar</a>
            <hr class="border-gym-gray">
            <button onclick="toggleMobileMenu(); openLoginModal()" class="bg-gym-blue text-gym-dark font-bold py-2 rounded-lg">
                <i class="fas fa-user-lock"></i> Staff Login
            </button>
        </div>
    </div>

    <section id="inicio" class="relative h-screen flex items-center justify-center overflow-hidden">
        <div class="absolute inset-0 z-0">
            <img src="https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover opacity-40 filter brightness-75">
            <div class="absolute inset-0 bg-gradient-to-t from-gym-dark via-transparent to-gym-dark"></div>
        </div>
        <div class="relative z-10 text-center px-4 max-w-4xl fade-in-up">
            <h2 class="text-gym-neon font-bold tracking-[0.3em] mb-4 text-sm md:text-base uppercase">Excelencia Deportiva</h2>
            <h1 class="font-sport text-4xl md:text-7xl font-black text-white mb-6 leading-tight drop-shadow-2xl uppercase">
                TU VERSIÓN <span class="text-transparent bg-clip-text bg-gradient-to-r from-gym-neon to-blue-500">SUPREMA</span>
            </h1>
            <p class="text-base md:text-xl text-gray-300 mb-8 max-w-2xl mx-auto font-light">
                Entrenamiento funcional, zonas húmedas y actividades exclusivas para residentes. Gestiona tu bienestar de forma digital y segura.
            </p>
            <a href="#espacios" class="bg-gym-neon text-gym-dark px-6 md:px-8 py-3 md:py-4 skew-x-[-10deg] font-bold text-base md:text-lg hover:bg-white hover:scale-105 transition-all shadow-xl shadow-gym-neon/20 inline-block">
                <span class="skew-x-[10deg] inline-block">SELECCIONAR CONJUNTO</span>
            </a>
        </div>
    </section>

    <section id="nosotros" class="py-20 bg-gym-gray/20 border-t border-gym-gray">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid md:grid-cols-2 gap-12 items-start">
                <div class="space-y-12">
                    <div class="fade-in-up">
                        <h3 class="font-sport text-3xl text-white mb-4 border-l-4 border-gym-neon pl-4 uppercase">Misión</h3>
                        <p class="text-gray-400 leading-relaxed text-justify">
                            Nuestra misión es proporcionar a los residentes de su conjunto residencial un entorno enriquecedor y saludable, a través de la cuidadosa operación y gestión de las zonas comunes deportivas, incluyendo piscinas, jacuzzis, gimnasios, saunas, turcos, salones de juegos, co-working y otras áreas recreativas. Nos comprometemos a fomentar el uso responsable de estas instalaciones, facilitando un espacio que promueva la mejora continua de la calidad de vida de nuestros residentes.
                        </p>
                    </div>
                    <div class="fade-in-up" style="animation-delay: 0.2s;">
                        <h3 class="font-sport text-3xl text-white mb-4 border-l-4 border-blue-500 pl-4 uppercase">Visión</h3>
                        <p class="text-gray-400 leading-relaxed text-justify">
                            Para el año 2030, seremos la empresa líder en la gestión integral de áreas recreativas y deportivas en copropiedades a nivel nacional, siendo reconocidos por nuestra innovación en programas de bienestar y la excelencia operativa. Buscamos transformar cada zona común en un núcleo de vida activa, social y saludable, garantizando que cada habitante encuentre en su propio hogar las herramientas necesarias para su desarrollo físico y comunitario.
                        </p>
                    </div>
                </div>
                <div class="relative h-[400px] md:h-full min-h-[400px] rounded-2xl overflow-hidden shadow-2xl border border-gym-blue/20">
                    <img src="https://images.unsplash.com/photo-1571902943202-507ec2618e8f?q=80&w=1975" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-gym-dark/20"></div>
                </div>
            </div>
        </div>
    </section>

    <section id="espacios" class="py-20 bg-gym-dark relative min-h-screen">
        <div class="absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-gym-blue/50 to-transparent"></div>
        <div class="max-w-7xl mx-auto px-4">
            
            <div class="text-center mb-16">
                <h2 class="font-sport text-3xl md:text-4xl text-white mb-4" id="titulo-seccion">NUESTROS <span class="text-gym-neon">CONJUNTOS</span></h2>
                <p class="text-gray-400" id="subtitulo-seccion">Selecciona tu lugar de residencia para ver las actividades disponibles.</p>
            </div>

            <div id="vista-conjuntos" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
                
                <div onclick="mostrarActividades('Palmaria')" class="bg-gym-gray rounded-xl overflow-hidden group cursor-pointer border border-transparent hover:border-gym-neon shadow-lg transition-all duration-300">
                    <div class="h-48 md:h-64 overflow-hidden relative">
                        <div class="absolute inset-0 bg-black/40 group-hover:bg-transparent transition-colors z-10"></div>
                        <img src="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?q=80&w=2070" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                        <div class="absolute bottom-4 left-4 z-20">
                            <h3 class="font-sport text-xl md:text-2xl text-white drop-shadow-md">PALMARIA</h3>
                            <p class="text-gym-neon text-[10px] font-bold uppercase">Ver Actividades <i class="fas fa-arrow-right ml-1"></i></p>
                        </div>
                    </div>
                </div>

                <div onclick="mostrarActividades('Robles')" class="bg-gym-gray rounded-xl overflow-hidden group cursor-pointer border border-transparent hover:border-gym-neon shadow-lg transition-all duration-300">
                    <div class="h-48 md:h-64 overflow-hidden relative">
                        <div class="absolute inset-0 bg-black/40 group-hover:bg-transparent transition-colors z-10"></div>
                        <img src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                        <div class="absolute bottom-4 left-4 z-20">
                            <h3 class="font-sport text-xl md:text-2xl text-white drop-shadow-md">ROBLES</h3>
                            <p class="text-gym-neon text-[10px] font-bold uppercase">Ver Actividades <i class="fas fa-arrow-right ml-1"></i></p>
                        </div>
                    </div>
                </div>

                <div onclick="mostrarActividades('Sauces')" class="bg-gym-gray rounded-xl overflow-hidden group cursor-pointer border border-transparent hover:border-gym-neon shadow-lg transition-all duration-300">
                    <div class="h-48 md:h-64 overflow-hidden relative">
                        <div class="absolute inset-0 bg-black/40 group-hover:bg-transparent transition-colors z-10"></div>
                        <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?q=80&w=2070" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                        <div class="absolute bottom-4 left-4 z-20">
                            <h3 class="font-sport text-xl md:text-2xl text-white drop-shadow-md">SAUCES</h3>
                            <p class="text-gym-neon text-[10px] font-bold uppercase">Ver Actividades <i class="fas fa-arrow-right ml-1"></i></p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="vista-actividades" class="hidden">
                <div class="flex justify-start mb-8">
                    <button onclick="volverAConjuntos()" class="text-gray-400 hover:text-white flex items-center gap-2 transition-colors">
                        <i class="fas fa-arrow-left p-2 bg-gym-gray rounded-full"></i> Volver a Conjuntos
                    </button>
                </div>
                <div id="contenedor-actividades" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 slide-in"></div>
            </div>
        </div>
    </section>

    <footer class="bg-black py-10 border-t border-gray-900 mt-auto">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <div class="text-white font-sport font-bold text-2xl mb-2">GYM <span class="text-gym-neon">SEBITAS</span></div>
            <div class="text-gray-500 text-xs">© 2025 Todos los derechos reservados</div>
        </div>
    </footer>

    <div id="bookingModal" class="fixed inset-0 z-[100] hidden">
        <div class="absolute inset-0 bg-black/90 backdrop-blur-sm" onclick="closeModal('bookingModal')"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-md bg-white rounded-xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-fadeIn">
            
            <div class="bg-gym-dark p-5 flex justify-between items-center border-b border-gym-neon/50">
                <h3 class="text-white font-sport font-bold tracking-wide">Reservar Turno</h3>
                <button onclick="closeModal('bookingModal')" class="text-gray-400 hover:text-white"><i class="fas fa-times text-xl"></i></button>
            </div>

            <div class="p-4 md:p-6 overflow-y-auto bg-slate-50 text-gray-800">
                <form id="bookingForm" onsubmit="submitBooking(event)">
                    <div class="grid grid-cols-2 gap-3 mb-4">
                        <div class="bg-blue-50 p-2 rounded border border-blue-100 text-center">
                            <span class="text-[10px] text-gray-500 font-bold uppercase block">Conjunto</span>
                            <input type="text" id="modalConjunto" class="w-full bg-transparent font-bold text-gym-dark text-xs text-center outline-none" readonly>
                        </div>
                        <div class="bg-blue-50 p-2 rounded border border-blue-100 text-center">
                            <span class="text-[10px] text-gray-500 font-bold uppercase block">Actividad</span>
                            <input type="text" id="modalActividad" class="w-full bg-transparent font-bold text-gym-dark text-xs text-center outline-none" readonly>
                        </div>
                    </div>

                    <div class="mb-3 text-xs">
                        <label class="block font-bold text-gray-600 mb-1">Nombre Completo:*</label>
                        <input type="text" class="w-full border border-gray-300 rounded p-2 focus:border-gym-blue outline-none" required>
                    </div>

                    <div class="grid grid-cols-2 gap-3 mb-3 text-xs">
                        <div><label class="block font-bold text-gray-600 mb-1">Torre/Apto:*</label><input type="text" class="w-full border border-gray-300 rounded p-2" required></div>
                        <div><label class="block font-bold text-gray-600 mb-1">Documento:*</label><input type="number" class="w-full border border-gray-300 rounded p-2" required></div>
                    </div>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3 text-xs">
                        <div><label class="block font-bold text-gray-600 mb-1">Celular:*</label><input type="tel" class="w-full border border-gray-300 rounded p-2" required></div>
                        <div><label class="block font-bold text-gray-600 mb-1">Email:*</label><input type="email" class="w-full border border-gray-300 rounded p-2" required></div>
                    </div>

                    <div class="border border-gray-200 rounded-lg p-3 bg-white mb-4">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-[10px] font-bold text-gray-800">Fecha de Reserva:</span>
                            <span class="text-[10px] font-bold text-gym-blue" id="selectedDateDisplay">Seleccionar</span>
                        </div>
                        <div class="grid grid-cols-7 gap-1 text-center" id="miniCalendar"></div>
                    </div>
                    
                    <div class="grid grid-cols-4 gap-2 mb-4">
                        <button type="button" class="time-btn" onclick="selectTime(this)">4 PM</button>
                        <button type="button" class="time-btn active" onclick="selectTime(this)">5 PM</button>
                        <button type="button" class="time-btn" onclick="selectTime(this)">6 PM</button>
                        <button type="button" class="time-btn" onclick="selectTime(this)">7 PM</button>
                    </div>

                    <button type="submit" class="w-full bg-gym-dark text-white py-3 rounded-lg font-bold hover:bg-black transition-all">CONFIRMAR</button>
                </form>
            </div>
        </div>
    </div>

    <div id="loginModal" class="fixed inset-0 z-[100] hidden">
        <div class="absolute inset-0 bg-black/95 backdrop-blur-sm" onclick="closeModal('loginModal')"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gym-gray p-8 rounded-2xl w-[90%] max-w-[350px] border border-gym-blue/20">
            <h2 class="text-center text-2xl font-sport font-bold text-white mb-6 uppercase">Staff Login</h2>
            <form id="loginFormSystem">
                <input type="text" id="username" placeholder="Usuario" class="w-full bg-black/50 border border-gray-700 text-white p-3 rounded mb-4 outline-none focus:border-gym-neon">
                <input type="password" id="password" placeholder="Contraseña" class="w-full bg-black/50 border border-gray-700 text-white p-3 rounded mb-6 outline-none focus:border-gym-neon">
                <button type="submit" class="w-full bg-gym-neon text-gym-dark font-bold py-3 rounded uppercase">Ingresar</button>
            </form>
        </div>
    </div>

    <script>
        // --- MOBILE MENU ---
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('open');
        }

        // --- DATA ---
        const datosConjuntos = {
            "Palmaria": [
                { nombre: "Gimnasio", img: "https://images.unsplash.com/photo-1576678927484-cc907957088c?w=500", desc: "Máquinas cardio y pesas. 24/7.", btn: "Reservar Entreno" },
                { nombre: "Piscina", img: "https://images.unsplash.com/photo-1575424909138-46b05e5919ec?w=500", desc: "Zona húmeda y carriles.", btn: "Reservar Turno" },
                { nombre: "Sauna", img: "https://images.unsplash.com/photo-1515377905703-c4788e51af15?w=500", desc: "Relajación total.", btn: "Reservar Sauna" }
            ],
            "Robles": [
                { nombre: "Gimnasio de Fuerza", img: "https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=500", desc: "Pesas libres y máquinas de potencia.", btn: "Reservar Zona" },
                { nombre: "Jacuzzi", img: "https://images.unsplash.com/photo-1584622650111-993a426fbf0a?w=500", desc: "Hidromasaje relajante.", btn: "Reservar Turno" }
            ],
            "Sauces": [
                { nombre: "Vacacionales", img: "https://images.unsplash.com/photo-1518310383802-640c2de311b2?w=500", desc: "Actividades para niños.", btn: "Inscribirse" },
                { nombre: "Gimnasio Básico", img: "https://images.unsplash.com/photo-1571902943202-507ec2618e8f?w=500", desc: "Entrenamiento funcional.", btn: "Reservar" }
            ]
        };

        function mostrarActividades(conjunto) {
            document.getElementById('vista-conjuntos').classList.add('hidden');
            document.getElementById('vista-actividades').classList.remove('hidden');
            document.getElementById('titulo-seccion').innerHTML = `ACTIVIDADES <span class="text-gym-neon uppercase">${conjunto}</span>`;
            
            const contenedor = document.getElementById('contenedor-actividades');
            contenedor.innerHTML = "";

            datosConjuntos[conjunto].forEach(act => {
                contenedor.innerHTML += `
                    <div class="bg-white rounded-xl overflow-hidden shadow-lg transform transition hover:scale-105">
                        <div class="h-40 overflow-hidden"><img src="${act.img}" class="w-full h-full object-cover"></div>
                        <div class="p-5 text-gray-800">
                            <h3 class="font-sport text-lg font-bold mb-3">${act.nombre}</h3>
                            <div class="bg-gray-100 p-2 rounded flex justify-between text-[10px] mb-2 font-bold uppercase"><span>Instrucciones</span> <i class="fas fa-plus"></i></div>
                            <div class="bg-gray-100 p-2 rounded flex justify-between text-[10px] mb-4 font-bold uppercase"><span>Horarios</span> <i class="fas fa-plus"></i></div>
                            <button onclick="openBookingModal('${conjunto}', '${act.nombre}')" class="w-full bg-gym-neon text-gym-dark py-3 rounded-lg font-bold flex justify-center items-center gap-2 hover:bg-cyan-300 transition-colors">
                                <i class="far fa-calendar-check"></i> ${act.btn}
                            </button>
                        </div>
                    </div>`;
            });
            window.location.hash = "espacios";
        }

        function volverAConjuntos() {
            document.getElementById('vista-actividades').classList.add('hidden');
            document.getElementById('vista-conjuntos').classList.remove('hidden');
            document.getElementById('titulo-seccion').innerHTML = `NUESTROS <span class="text-gym-neon">CONJUNTOS</span>`;
        }

        // --- MODALS ---
        function openBookingModal(conjunto, actividad) {
            document.getElementById('bookingModal').classList.remove('hidden');
            document.getElementById('modalConjunto').value = conjunto;
            document.getElementById('modalActividad').value = actividad;
            renderMiniCalendar();
            const today = new Date();
            document.getElementById('selectedDateDisplay').innerText = `02/${today.getDate()}/2026`;
        }

        function closeModal(id) { document.getElementById(id).classList.add('hidden'); }
        function openLoginModal() { document.getElementById('loginModal').classList.remove('hidden'); }

        // --- CALENDAR ---
        function renderMiniCalendar() {
            const container = document.getElementById('miniCalendar');
            container.innerHTML = '';
            for(let i=0; i<3; i++) container.innerHTML += `<div></div>`; 
            for(let i=1; i<=28; i++) {
                let classes = "calendar-day bg-gray-50 text-gray-600 hover:bg-blue-100";
                if(i === 19) classes = "calendar-day selected text-black shadow-md"; 
                container.innerHTML += `<div class="${classes}" onclick="selectDate(${i}, this)">${i}</div>`;
            }
        }
        function selectDate(day, el) {
            document.getElementById('selectedDateDisplay').innerText = `02/${day}/2026`;
            document.querySelectorAll('.calendar-day').forEach(e => e.classList.remove('selected', 'text-black'));
            el.classList.add('selected', 'text-black');
        }
        function selectTime(btn) {
            document.querySelectorAll('.time-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        // --- SUBMIT ---
        async function submitBooking(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button[type="submit"]');
            const inputs = e.target.elements;

            const bookingData = {
                conjunto: document.getElementById('modalConjunto').value,
                servicio: document.getElementById('modalActividad').value,
                nombre: inputs[2].value,
                torre_apto: inputs[3].value,
                documento: inputs[4].value,
                celular: inputs[5].value,
                email: inputs[6].value,
                fecha: document.getElementById('selectedDateDisplay').innerText,
                hora: document.querySelector('.time-btn.active')?.innerText || "5 PM"
            };

            btn.innerText = "ENVIANDO...";
            btn.disabled = true;

            try {
                const response = await fetch('/api/reservar', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(bookingData)
                });
                const result = await response.json();
                if (response.ok) {
                    closeModal('bookingModal');
                    Swal.fire({ title: '¡Reserva Exitosa!', icon: 'success', confirmButtonColor: '#0B0C10' });
                    e.target.reset();
                } else {
                    throw new Error(result.error);
                }
            } catch (error) {
                Swal.fire({ title: 'Error', text: error.message, icon: 'error' });
            } finally {
                btn.innerText = "CONFIRMAR";
                btn.disabled = false;
            }
        }

        // --- LOGIN ---
        document.getElementById('loginFormSystem').addEventListener('submit', function(e) {
            e.preventDefault();
            const u = document.getElementById('username').value;
            const p = document.getElementById('password').value;
            if(u==='admin' && p==='admin') window.location.href = '/inventario';
            else Swal.fire({ title: 'Error', text: 'Datos incorrectos', icon: 'error' });
        });
    </script>
</body>
</html>